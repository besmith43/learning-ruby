<?xml version="1.0" encoding="iso-8859-1"?>
<!--
 ! Excerpted from "RubyCocoa",
 ! published by The Pragmatic Bookshelf.
 ! Copyrights apply to this code. It may not be used to create training material, 
 ! courses, books, articles, and the like. Contact us if you are in doubt.
 ! We make no guarantees that this code is fit for any purpose. 
 ! Visit http://www.pragmaticprogrammer.com/titles/bmrc for more book information.
-->
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: History.txt</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>History.txt</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>History.txt
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Tue Apr 15 12:30:48 -0500 2008</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h3>2.1.1 / 2007-12-22</h3>
<ul>
<li>1 bug fix:

<ul>
<li><em>sigh</em> apparently I&#8216;ve been running w/o all my anal compiler
flags on.

</li>
</ul>
</li>
</ul>
<h3>2.1.0 / 2007-12-21</h3>
<ul>
<li>13 minor enhancements:

<ul>
<li>Added (partial) regexp flag support, currently numerical. ugh.

</li>
<li>Added -a flag to parse_tree_show to turn on newline (all) nodes.

</li>
<li>Added -r to parse_tree_show for raw arrays instead of sexps.

</li>
<li>Added <a href="../classes/Unifier.html">Unifier</a> (<a
href="../classes/SexpProcessor.html">SexpProcessor</a>) class to
unified_ruby.rb.

</li>
<li>Added a ton of tests while working on ruby_parser.

</li>
<li>Added ability to tell proc {} (nil arg slot) from proc {||} (0 arg slot)

</li>
<li>Added context tracking to rewriting phase&#8230; slightly broken.

</li>
<li>Added evstr support. (I hate evan)

</li>
<li>Added usage for parse_tree_show.

</li>
<li>Changed verbose to be true all the time in parse_tree_for_string.

</li>
<li>Removed process_level from <a
href="../classes/SexpProcessor.html">SexpProcessor</a>&#8230; just look at
context size instead.

</li>
<li>Revamped <a href="../classes/ParseTree.html">ParseTree</a>. No more passing
around newline. Pass around self instead.

</li>
<li>I&#8216;m starting to dislike ruby&#8216;s AST. It is REALLY inconsistent.

</li>
</ul>
</li>
<li>6 bug fix:

<ul>
<li><a
href="../classes/SexpProcessor.html#M000376">SexpProcessor#assert_type</a>
now a bit safer with bad values.

</li>
<li>Uncovered a bug in ruby (AST changes when -v used), added handler code.

</li>
<li>Fixed NODE_BLOCK and massively simplified in the process.

</li>
<li>Fixed rewrite_defs to deal with non-block asts.

</li>
<li>Fixed test/unit hack so it does not die under miniunit.

</li>
<li>Found a bug in PT where parse_tree_for_string had some shadowed variables.

</li>
</ul>
</li>
</ul>
<h3>2.0.2 / 2007-09-20</h3>
<ul>
<li>2 minor enhancements:

<ul>
<li>Deactivated gcc-specific compiler flags unless ENV[&#8216;ANAL&#8217;] or
on my domain.

</li>
<li>Minor code cleanup - happier with -pedantic and the like.

</li>
</ul>
</li>
<li>1 bug fix:

<ul>
<li>FINALLY conquered the splat args bug on certain platforms/versions. Special
Thanks to Jonas Pfenniger for debugging this and providing a patch.

</li>
</ul>
</li>
</ul>
<h3>2.0.1 / 2007-08-21</h3>
<ul>
<li>1 major enhancement:

<ul>
<li>Rewrote parse_tree_show to use parse_tree_for_string.

<ul>
<li>parse_tree_show adds -n=node filtering -u unifying, and -s structure-only.

</li>
<li>parse_tree_show no longer needs -f

</li>
</ul>
</li>
</ul>
</li>
<li>4 minor enhancements:

<ul>
<li>Added context stack to <a
href="../classes/SexpProcessor.html">SexpProcessor</a>! YAY!!!

</li>
<li>Enforce type to be symbol in <a
href="../classes/SexpProcessor.html">SexpProcessor</a>&#8230; just makes
life easier.

</li>
<li>Processing style change mode to <a
href="../classes/UnifiedRuby.html">UnifiedRuby</a>. Prefer no rescues.

</li>
<li><a href="../classes/Sexp.html#M000410">Sexp#structure</a> is no longer
destructive.

</li>
</ul>
</li>
<li>4 bug fixes:

<ul>
<li>Added 1.8.4 compatibility fix.

</li>
<li>Added args lifting in :defs in <a
href="../classes/UnifiedRuby.html">UnifiedRuby</a>.

</li>
<li>Fixed unifying argscat, splat, and a couple other oddities.

</li>
<li>Added process_call to <a href="../classes/UnifiedRuby.html">UnifiedRuby</a>
<b>sigh</b> I&#8216;m a tard.

</li>
</ul>
</li>
</ul>
<h3>2.0.0 / 2007-08-01</h3>
<ul>
<li>2 major enhancements:

<ul>
<li>Rewrite methods completely rewritten. Rewriters:

<ul>
<li>are no longer recursive.

</li>
<li>are no longer required to empty the sexp coming in.

</li>
<li>are depth first, so rewriter gets passed everything already normalized.

</li>
<li>keep rewriting until type doesn&#8216;t change.

</li>
<li>are magical goodness.

</li>
</ul>
</li>
<li>Added <a href="../classes/UnifiedRuby.html">UnifiedRuby</a> module to aid
others in writing clean SexpProcessors:

<ul>
<li>bmethod/dmethod/fbody unified with defn

</li>
<li>fcall/vcall unified with call

</li>
<li>resbody unified with itself (lots of different forms)

</li>
</ul>
</li>
</ul>
</li>
<li>5 minor enhancements:

<ul>
<li>Add modules to <a href="../classes/Module.html">Module</a>.

</li>
<li>Add Sexp::for shortcut for <a
href="../classes/Sexp.html#M000400">Sexp.from_array</a> <a
href="../classes/ParseTree.html#M000327">ParseTree.translate(...)</a>.

</li>
<li>Add parens for :block nodes as appropriate. May be overzealous.

</li>
<li>Made add_to_parse_tree global for reuse by other C extensions.

</li>
<li>Made test_ruby2ruby MUCH more rigorous with circular testing.

</li>
</ul>
</li>
<li>6 bug fixes:

<ul>
<li>Added $TESTING = true to pt_testcase.rb. OOPS!

</li>
<li>Fixed some circular bugs, mostly by hacking them out, wrt operator
precidence.

</li>
<li>Fixed splat arg processing when arg has no name.

</li>
<li>Fixed trinary operator.

</li>
<li>Fixed BMETHOD with no arguments.

</li>
<li>Removed hacky &quot;self.&quot; thing for defs at top level PT use.

</li>
</ul>
</li>
</ul>
<h3>1.7.1 / 2007-06-05</h3>
<ul>
<li>3 minor enhancements:

<ul>
<li>Added begin/rescue/ensure test.

</li>
<li>Added block_pass_args_and_splat.

</li>
<li>Allow methods to be pulled from unparsed files.

</li>
</ul>
</li>
<li>1 bug fix:

<ul>
<li>Compatibility fixed across 1.8.

</li>
</ul>
</li>
</ul>
<h3>1.7.0 / 2007-02-13</h3>
<ul>
<li>2 major enhancements:

<ul>
<li>rewrite extracted and intended to be run before (or in front of) process.

</li>
<li>rewrite is now recursive as well, so children rewritings should be done
independently of their parents. This should make complex rewriting layers
much cleaner and allow me to eventually collect and publish a single
&quot;standard&quot; rewriting layer.

</li>
</ul>
</li>
<li>1 minor enhancement:

<ul>
<li>Iters are now {} if short and one line. YAY!

</li>
</ul>
</li>
<li>1 bug fix:

<ul>
<li>Added test cases brought out by ruby2ruby/heckle.

</li>
</ul>
</li>
</ul>
<h3>1.6.4 / 2007-01-15</h3>
<ul>
<li>1 minor enhancement:

<ul>
<li>Switched short if/unless to 1 line expressions.

</li>
</ul>
</li>
<li>2 bug fixes:

<ul>
<li>Fixed the nested case/when bug. YAY!

</li>
<li>Added dasgn_curr and defn_rescue test cases.

</li>
</ul>
</li>
</ul>
<h3>1.6.3 / 2006-12-20</h3>
<ul>
<li>1 bug fix:

<ul>
<li>ParseTree::translate was trying to translate inherited class methods.

</li>
</ul>
</li>
</ul>
<h3>1.6.2 / 2006-12-19</h3>
<ul>
<li>2 minor enhancements:

<ul>
<li>ParseTree::translate can now take :&quot;self.method&quot;.

</li>
<li>Improved PT tests for [], []=

</li>
</ul>
</li>
<li>1 bug fixes:

<ul>
<li>Fixed a bug in <a href="../classes/ParseTree.html">ParseTree</a> where
cases w/o exprs were malformed.

</li>
</ul>
</li>
</ul>
<h3>1.6.1 / 2006-11-11</h3>
<ul>
<li>2 minor enhancements:

<ul>
<li>Have been going insane on the tests, expect more soon.

</li>
<li>Cleaned up using named nodes, now do: args = exp.scope.block.args(:delete).

</li>
</ul>
</li>
<li>2 bug fixes:

<ul>
<li>Fixed parse_tree to return superclass in :const node.

</li>
<li>Fixed while/until with no bodies (now nil).

</li>
</ul>
</li>
</ul>
<h3>1.6.0 / 2006-10-11</h3>
<ul>
<li>2 major enhancements:

<ul>
<li>PTTC just got a major enema. 2k lines o&#8217; diff.

</li>
<li>All in all, removed 829 lines of code and made it a lot more solid.

</li>
</ul>
</li>
<li>6 minor enhancements:

<ul>
<li>Added sort rake task.

</li>
<li>Added a basic front-end method to <a
href="../classes/ParseTree.html">ParseTree</a>: translate, takes string or
<a href="../classes/Class.html">Class</a> and optional method name.

</li>
<li><a href="../classes/Class.html">Class</a> now has nil for unspecified
superclass. No way to tell if it is being reopened.

</li>
<li><a href="../classes/SexpProcessor.html">SexpProcessor</a>&#8216;s
unsupported array now defaults to all the internal nodes.

</li>
<li>Added <a href="../classes/Unique.html">Unique</a> from ruby2c project.

</li>
<li>something.rb got slimmed down to near nothing. About to be retired.

</li>
</ul>
</li>
<li>3 bug fixes:

<ul>
<li>Added changeset to Hoe spec.

</li>
<li>Fixed up description to use paragraphs_of.

</li>
<li>Fixed op_asgn1, alias, undef, dsym, match.

</li>
</ul>
</li>
</ul>
<h3>1.5.0 / 2006-09-24</h3>
<ul>
<li>5 minor enhancements:

<ul>
<li>Added parse_tree_audit.

</li>
<li>Added reporting of unsupported nodes that have processors.

</li>
<li>YAY! class method support! generated as :&quot;self.blah&quot;

</li>
<li>Add parse_tree_for_string.

</li>
<li>Converted Rakefile+gemspec to Hoe-based Rakefile.

</li>
</ul>
</li>
<li>6 bug fixes:

<ul>
<li>Did some preliminary work on 1.9 compatibility.

</li>
<li>Fixed tests for some changes/clarifications.

</li>
<li>Fixed resbody: should have nil exceptions list when no exception rescued.

</li>
<li>Fixed op_asgn1 and op_asgn2.

</li>
<li>Fixed incompatibility with new inline changes.

</li>
<li>Fixed VALUE decl in parse_tree.rb

</li>
</ul>
</li>
</ul>
<h3>1.4.1 / 2006-04-10</h3>
<ul>
<li>4 minor enhancements:

<ul>
<li>parse_tree_show -f output is much cleaner now.

</li>
<li><a href="../classes/ParseTree.html">ParseTree</a> does a much more elegant
job of handling different versions.

</li>
<li><a href="../classes/ParseTree.html">ParseTree</a> now has all node names in
ParseTree::NODE_NAMES.

</li>
<li><a href="../classes/ParseTree.html">ParseTree</a> now raises exceptions
instead of freakin&#8217;.

</li>
</ul>
</li>
<li>3 bug fixes:

<ul>
<li>Used multiruby to test against 1.8.2-4, 1.8 cvs, and 1.9 cvs.

</li>
<li>Fixed incompatibilites introduced in ruby 1.8.4.

</li>
<li>Fixed some incompatibilites introduced in ruby 1.9.x.

</li>
</ul>
</li>
</ul>
<h3>1.4.0 / 2005-10-15</h3>
<ul>
<li>5 minor enhancements

<ul>
<li>Improved Makefile&#8216;s install rule, uninstall, and added FILTER to all.

</li>
<li>Fixed minor issues w/ Makefile.

</li>
<li>Added -I=loadpath to parse_tree_abc.

</li>
<li>Added *args support for methods.

</li>
<li>Split out sexp to its own file.

</li>
</ul>
</li>
<li>2 bug fixes

<ul>
<li>Fixed weird bug in parse_tree_deps where sort was failing on deps.

</li>
<li>! Fixed fatal bug in parse_tree.rb caused by safe_level fix in ruby 1.8.3.

</li>
</ul>
</li>
</ul>
<h3>1.3.8 / 2005-09-27</h3>
<ul>
<li>1 bug fix:

<ul>
<li>Our private version of struct METHOD went out of sync w/ latest ruby.

</li>
<li>Only use this if you are on 1.8.3+.

</li>
</ul>
</li>
</ul>
<h3>1.3.7 / 2005-07-13</h3>
<ul>
<li>3 bug fixes:

<ul>
<li>Fixed rubygem requires for non-gem systems.

</li>
<li>Renamed on to on_error_in to make more clear.

</li>
<li>Moved exceptions to their own tree to make catching cleaner.

</li>
</ul>
</li>
</ul>
<h3>1.3.6 / 2005-05-19</h3>
<ul>
<li>2 minor enhancements:

<ul>
<li>Improved debugging capability when $DEBUG.

</li>
<li>Allowed for selective debugging output by node type.

</li>
</ul>
</li>
<li>3 bug fixes:

<ul>
<li>Minor fixes to Makefile and parse_tree_show.

</li>
<li>Improved error messages in parse_tree when newlines are included.

</li>
<li>Improved method coverage for parse_tree.

</li>
</ul>
</li>
</ul>
<h3>1.3.5 / 2005-04-19</h3>
<ul>
<li>2 minor enhancement

<ul>
<li>Added dynamic exception handling on a per node-type basis (BIG).

</li>
<li>Added -c=classname to parse_tree_show to help w/ core classes.

</li>
</ul>
</li>
<li>1 bug fix

<ul>
<li>Fixed dependency specification error in gemspec.

</li>
</ul>
</li>
</ul>
<h3>1.3.4 / 2005-02-09</h3>
<ul>
<li>2 bug fixes

<ul>
<li>bug:1459: Cleaned up and corrected superclass naming code.

</li>
<li>bug:1458: Fixed while to support post-conditional while/until nodes.

</li>
</ul>
</li>
</ul>
<h3>1.3.3 / 2005-02-01</h3>
<ul>
<li>3 minor enhancement

<ul>
<li>Cleaned up parse_tree_abc output

</li>
<li>Patched up null class names (delegate classes are weird!)

</li>
<li>Added <a href="../classes/UnknownNodeError.html">UnknownNodeError</a> and
switched SyntaxError over to it.

</li>
</ul>
</li>
<li>2 bug fixes

<ul>
<li>Fixed BEGIN node handling to recurse instead of going flat.

</li>
<li>FINALLY fixed the weird compiler errors seen on some versions of gcc 3.4.x
related to type punned pointers.

</li>
</ul>
</li>
</ul>
<h3>1.3.2 / 2005-01-04</h3>
<ul>
<li>1 minor enhancement

<ul>
<li>Added total line to end of ABC metric report.

</li>
</ul>
</li>
<li>1 bug fix

<ul>
<li>Updates for ruby 1.8.2 parse tree changes.

</li>
</ul>
</li>
</ul>
<h3>1.3.1 / 2004-12-09</h3>
<ul>
<li>1 minor enhancement

<ul>
<li>Added rewrite_&lt;type&gt; processing.

</li>
</ul>
</li>
<li>2 bug fixes

<ul>
<li>Renamed <a href="../classes/SexpProcessor.html">SexpProcessor</a>&#8216;s
exclude to unsupported.

</li>
<li>Fixed a bus error when an attrasgn uses self.

</li>
<li>Added support for cfunc now that we found a repro.

</li>
</ul>
</li>
</ul>
<h3>1.3.0 / 2004-12-06</h3>
<ul>
<li>3 minor enhancements

<ul>
<li>Finished supporting pretty much all nodes (that we can figger out).

</li>
<li>If $DEBUG, or true passed to new, then we now output the :newline nodes.

</li>
<li>We output much better extra debugging info if $DEBUG.

</li>
</ul>
</li>
<li>1 bug fixes

<ul>
<li>Fixed README for new output style.

</li>
</ul>
</li>
</ul>
<h3>1.2.0 / 2004-11-29</h3>
<ul>
<li>9 minor enhancements

<ul>
<li><a href="../classes/ParseTree.html">ParseTree</a> now returns symbols for
all data except in :str and :lit.

<pre>
  * This WILL break existing code! (as if any exists)
</pre>
</li>
<li><a href="../classes/ParseTree.html#M000329">ParseTree.parse_tree</a> now
takes a list of classes, no optional method.

</li>
<li><a
href="../classes/ParseTree.html#M000330">ParseTree.parse_tree_for_method</a>(klass,
method) added.

</li>
<li><a href="../classes/ParseTree.html#M000329">ParseTree.parse_tree</a> now
returns a list of :class/:module nodes.

</li>
<li>Added -f to parse_tree_show for uber fast demos.

</li>
<li>Added -q to parse_tree_show to NOT use pp so it is mucho faster.

</li>
<li>running with $DEBUG will trace the methods and nodes as processed.

</li>
<li>Added rdoc to everything.

</li>
<li>Gemified

</li>
</ul>
</li>
<li>4 bug fixes

<ul>
<li>Bus error in iter/for nodes where arg list is empty now fixed.

</li>
<li>Bus error when handling &#8216;def method(*)&#8217; is now fixed.

</li>
<li>Unnamed classes and superclasses (ugh) are now handled.

</li>
<li>parse_tree_abc now enumerates actual types rather than every token.

</li>
</ul>
</li>
</ul>
<h3>1.1.0 / 2004-11-12</h3>
<ul>
<li>2 minor enhancement

<ul>
<li>Added <a href="../classes/SexpProcessor.html">SexpProcessor</a> and <a
href="../classes/CompositeSexpProcessor.html">CompositeSexpProcessor</a>

</li>
<li>Allowed show.rb to read from standard input.

</li>
</ul>
</li>
<li>3 bug fixes

<ul>
<li>Fixed makefile issues for BSD&#8216;s make - so dumb.

</li>
<li>Added super as a call in abc.rb&#8216;s metrics

</li>
<li>Commented out a compiler flag to work with GCC 2.95.

</li>
</ul>
</li>
</ul>
<h3>1.0.0 / 2004-11-06</h3>
<ul>
<li>1 major enhancement

<ul>
<li>Birthday!

</li>
</ul>
</li>
</ul>

    </div>


   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>